<div class="card">
  <div class="card-header text-bg-primary d-flex justify-content-between align-items-center">
    <h5 class="card-title m-0">Editar Detalhes da Despesa</h5>
    <button type="button" class="btn-close" (click)="close()" aria-label="Close"></button>
  </div>
  <div class="card-body">
    <div class="row mb-1">
      <div class="col-6">
        <label class="form-label fw-bold">Descrição:</label>
      </div>
      <div class="col-6">
        <p >{{ record?.Details_Origin?.Description }}</p>
      </div>
    </div>
    <div class="row mb-1">
      <div class="col-6">
        <label class="form-label fw-bold">Data de Fechamento:</label>
      </div>
      <div class="col-6">
        <p >{{ formatDate(( record?.Details_Origin?.Closing_day || 0), month, year) }}</p>
      </div>
    </div>
    <div class="row mb-1">
      <div class="col-6">
        <label class="form-label fw-bold">Data de Vencimento:</label>
      </div>
      <div class="col-6">
        <p >{{ formatDate((record?.Details_Origin?.due_date || 0), month, year) }}</p>
      </div>
    </div>
    <div class="row mb-1">
      <div class="col-6">
        <label for="value" class="form-label fw-bold">Valor:</label>
      </div>
      <div class="col-6">
        <input *ngIf="record" type="number" class="form-control" id="value" [(ngModel)]="record.value" name="value" step="10.00" min="0">
      </div>
    </div>
    <div class="row mb-1">
      <div class="col-6">
        <label for="discounts" class="form-label fw-bold">Descontos:</label>
      </div>
      <div class="col-6">
        <input *ngIf="record" type="number" class="form-control" id="discounts" [(ngModel)]="record.discounts" name="discounts" step="10.00" min="0">
      </div>
    </div>
    <div class="row mb-1">
      <div class="col-6">
        <label class="form-label fw-bold">Valor Final:</label>
      </div>
      <div class="col-6">
        <p >{{ ((record?.value ?? 0) - (record?.discounts ?? 0)) | currency:'BRL':'symbol':'1.2-2' }}</p>
      </div>
    </div>
    <div class="row mb-1">
      <div class="col-6">
        <label for="definitive_value" class="form-label fw-bold">Valor Definitivo:</label>
      </div>
      <div class="col-6">
        <input *ngIf="record" type="checkbox" class="form-check-input" id="definitive_value" [(ngModel)]="record.definitive_value" name="definitive_value"  [disabled]="record.payment">
      </div>
    </div>
    <div class="row mb-1">
      <div class="col-6">
        <label for="payment" class="form-label fw-bold">Pago:</label>
      </div>
      <div class="col-6">
        <input *ngIf="record" type="checkbox" class="form-check-input" id="payment" [(ngModel)]="record.payment" name="payment" [disabled]="!record.definitive_value">
      </div>
    </div>
  </div>
  <div class="card-footer d-flex justify-content-between">
    <button type="button" class="btn btn-secondary me-2" (click)="close()">Cancelar</button>
    <button type="button" class="btn btn-primary" (click)="save()">Salvar</button>
  </div>
</div>
